type linearPNRRPhysicsPackage;

pop      6500; 
active   2500;  
inactive 1200; 
dead     20;  
termination 220;  
plot 1;
cache 1;
XSdata mg;
SHOrder 1; //scattering order
dataType mg;
outputFormat asciiJSON;
outputFile BW_coarse;

// Specify output format default asciiMATLAB
fissionMap {type multiMap;
            maps (xax yax);
            !xax { type spaceMap; axis x; grid lin; min -38.1; max -3.744; N 21;}
            !yax { type spaceMap; axis y; grid lin; min -38.1; max -3.744; N 21;}
            xax { type spaceMap; axis x; grid lin; min -34.356; max 0.0; N 21;}
            yax { type spaceMap; axis y; grid lin; min -34.356; max 0.0; N 21;}
}

geometry {
  type geometryStd;
  boundary ( 1 0 1 0 1 1);
  graph {type extended;}

  surfaces {
    Domain {id 1; type box; origin (3.744 3.744 0.0); halfwidth (38.1 38.1 38.1);}  
    tank { id 2; type zCylinder; origin (-34.356 -34.356 0.0); radius 76.2;}
  }

  cells {

   cell1 { id 1; type simpleCell; surfaces (-2); filltype uni; universe 400; }
   cell2 { id 2; type simpleCell; surfaces (2); filltype mat; material void; }

  }

  universes {
    root { id 1; type rootUniverse; border 1; fill u<500>; }

    everything {id 500; type cellUniverse; cells (1 2); origin (0.0 0.0 0.0 ); }

    // Pin universes
    !pin10 { id 10; type azimPinUniverse; naz 8; rotation (22.5 0.0 0.0);
    !        radii ( 0.297335 0.42045 0.515 0.522 0.603 0.72862 0.83557 0.9303 1.01623 0.0 ); 
    !        fills (fuel fuel fuel void alClad water water water water water);}
    !pin15 { id 15; type azimPinUniverse; naz 8; rotation (22.5 0.0 0.0);
    !        radii ( 0.297335 0.42045 0.515 0.522 0.603 0.72862 0.83557 0.9303 1.01623 0.0 ); 
    !        fills (fuel1 fuel1 fuel1 void alClad water water water water water);}

    pin10 { id 10; type azimPinUniverse; nazR (4 4 8 8); rotation (0.0 0.0 0.0);
            radii ( 0.515 0.522 0.603 0.0 ); 
            fills (fuel void alClad water);}
    pin15 { id 15; type azimPinUniverse; nazR (4 4 8 8); rotation (0.0 0.0 0.0);
            radii ( 0.515 0.522 0.603 0.0 ); 
            fills ( fuel1 void alClad water);}

    water1 { id 20; type pinUniverse; radii (0.0); fills (water1);}

    // Lattices

    latWater {
      id 25;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (1 1 0);
      padMat water1;
      map (
        20
      );
    }


    latFineWater {
      id 26;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (1 1 0);
      padMat water1;
      map (
        20
      );
    }

    // latFineWater {
    //   id 26;
    //   type latUniverse;
    //   origin (0.0 0.0 0.0);
    //   pitch (0.3272 0.3272 0.0);
    //   shape (5 5 0);
    //   padMat water1;
    //   map (
    //     20 20 20 20 20 
    //     20 20 20 20 20
    //     20 20 20 20 20
    //     20 20 20 20 20
    //     20 20 20 20 20
    //     20 20 20 20 20
    //   );
    // }

    latBigWater {
      id 200;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water1;
      map (
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
      );
    }
    
    latLeftFineWater {
      id 205;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water1;
      map (
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
      );
    }
    
    latTopFineWater {
      id 206;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water1;
      map (
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
      );
    }
    
    latCornerFineWater {
      id 207;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water1;
      map (
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
      );
    }
    latPartWater {
      id 201;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water;
      map (

      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      25 25 25 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      25 25 25 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      25 25 25 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20

      );
    }

    latFuel {
      id 100;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water;
      map (
        15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
      ); 
    }

    latCore {
      id 400;
      type latUniverse;
      !origin (13.434 13.434 0.0);
      origin (17.178 17.178 0.0);
      pitch (34.356 34.356 0.0);
      shape (3 3 0);
      padMat water;
      map (
       200 20 20
       206 207 20
       100 205 200
      );
    }

  }

}


viz {
  myVTK {
    type vtk;
    what uniqueID; 
    corner (-34.356 -34.356 -0.5);
    width (76.2 76.2 1.0);
    vox (500 500 1);
  }
  bmp1 {
    type bmp;
    output core_coarse;
    what uniqueID;
    centre (0.0 0.0 0.0);
    //width (25.0 25.0);
    axis z;
    res (1500 1500);
  }
  bmp2 {
    type bmp;
    output zoom_coarse;
    what uniqueID;
    centre (0.0 0.0 0.0);
    width (10.0 10.0);
    axis z;
    res (1500 1500);
  }
}


nuclearData {
  handles {
    mg { type baseMgNeutronDatabase; PN P3;} 
  }
  materials {

    water {
      temp 75675;
      composition {}
    //   xsFile ../XS_BW/water_P1.txt;
      xsFile ../XS_BW/water_P3.txt;
      }

    water1 {
      temp 75675;
      composition {}
      // xsFile ../XS_BW/water1_P1.txt;
      xsFile ../XS_BW/water1_P3.txt;
      }

     alClad {
       temp 9876;
       composition {}
    //    xsFile ../XS_BW/alClad_P1.txt;
       xsFile ../XS_BW/alClad_P3.txt;
    }

    fuel {
      temp 87476;
      composition {}
    //   xsFile ../XS_BW/fuel_P1.txt;
      xsFile ../XS_BW/fuel_P3.txt;
    }

    fuel1 {
      temp 87476;
      composition {}
    //   xsFile ../XS_BW/fuel1_P1.txt;
      xsFile ../XS_BW/fuel1_P3.txt;
    }

   }
}
