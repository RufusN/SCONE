type anisotropicRRPhysicsPackage;

pop      10000; 
active   2500;  
inactive 1200; 
dead     20;  
termination 220;  
plot 1;
cache 1;
XSdata mg;
SHOrder 1; //scattering order
//rho 0.0; //rho stabilisation factor
dataType mg;
outputFormat asciiJSON;
outputFile Flat_fine ;

// Specify output format default asciiMATLAB
fissionMap {type multiMap;
            maps (xax yax);
            !xax { type spaceMap; axis x; grid lin; min -38.1; max -3.744; N 21;}
            !yax { type spaceMap; axis y; grid lin; min -38.1; max -3.744; N 21;}
            xax { type spaceMap; axis x; grid lin; min -34.356; max 0.0; N 21;}
            yax { type spaceMap; axis y; grid lin; min -34.356; max 0.0; N 21;}
}

geometry {
  type geometryStd;
  boundary ( 1 0 1 0 1 1);
  graph {type extended;}

  surfaces {
    !squareBound { id 1; type zSquareCylinder; origin (0.0 0.0 0.0); halfwidth (34.356 34.356 0.0);}
    squareBound { id 1; type zSquareCylinder; origin (3.744 3.744 0.0); halfwidth (38.1 38.1 0.0);}
    !squareBound { id 1; type zSquareCylinder; origin (0.0 0.0 0.0); halfwidth (38.1 38.1 0.0);}
    tank { id 2; type zCylinder; origin (-34.356 -34.356 0.0); radius 76.2;}
  }

  cells {

   cell1 { id 1; type simpleCell; surfaces (-2); filltype uni; universe 400; }
   cell2 { id 2; type simpleCell; surfaces (2); filltype mat; material void; }

  }

  universes {
    root { id 1; type rootUniverse; border 1; fill u<500>; }

    everything {id 500; type cellUniverse; cells (1 2); origin (0.0 0.0 0.0 ); }

    // Pin universes

    pin10 { id 10; type azimPinUniverse; naz 8; rotation (22.5 0.0 0.0);
  	radii (0.15 0.297335 0.3588925 0.42045 0.515 0.522 0.5625 0.603 0.7015 0.8 1.0 0.0); 
        fills (fuel fuel fuel fuel fuel void alClad alClad water water water water);}
    pin15 { id 15; type azimPinUniverse; naz 8; rotation (22.5 0.0 0.0);
        radii (0.15 0.297335 0.3588925 0.42045 0.515 0.522 0.5625 0.603 0.7015 0.8 1.0 0.0); 
        fills (fuel1 fuel1 fuel1 fuel1 fuel1 void alClad alClad water water water water);}
    water1 { id 20; type pinUniverse; radii (0.0 ); fills (water1);}

    // Lattices

    latWater {
      id 25;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (0.1636 0.1636 0.0);
      shape (10 10 0);
      padMat water1;
      map (
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
      );
    }

    latFineWater {
      id 26;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (0.1636 0.1636 0.0);
      shape (10 10 0);
      padMat water1;
      map (
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
        20 20 20 20 20 20 20 20 20 20
      );
    }

    latBigWater {
      id 200;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water1;
      map (
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
      );
    }
    
    latLeftFineWater {
      id 205;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water1;
      map (
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
      );
    }
    
    latTopFineWater {
      id 206;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water1;
      map (
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
        26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26 26
      );
    }
    
    latCornerFineWater {
      id 207;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water1;
      map (
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
        26 26 26 26 26 26 26 26 26 26 25 25 25 25 25 25 25 25 25 25 25
      );
    }
    latPartWater {
      id 201;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water;
      map (

      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      25 25 25 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      25 25 25 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
      25 25 25 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20

      );
    }

    latFuel {
      id 100;
      type latUniverse;
      origin (0.0 0.0 0.0);
      pitch (1.636 1.636 0.0);
      shape (21 21 0);
      padMat water;
      map (
        15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
        10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 15
      ); 
    }

    latCore {
      id 400;
      type latUniverse;
      !origin (13.434 13.434 0.0);
      origin (17.178 17.178 0.0);
      pitch (34.356 34.356 0.0);
      shape (3 3 0);
      padMat water;
      map (
       200 20 20
       206 207 20
       100 205 200
      );
    }

  }

}


viz {
  myVTK {
    type vtk;
    what uniqueID; 
    corner (-34.356 -34.356 -0.5);
    width (76.2 76.2 1.0);
    vox (500 500 1);
  }
  bmp1 {
    type bmp;
    output core;
    what uniqueID;
    centre (0.0 0.0 0.0);
    //width (25.0 25.0);
    axis z;
    res (1500 1500);
  }
  bmp2 {
    type bmp;
    output zoom;
    what uniqueID;
    centre (0.0 0.0 0.0);
    width (10.0 10.0);
    axis z;
    res (1500 1500);
  }
  bmp3 { 
    type bmp; 
    output BW_geom; 
    what material; 
    centre (0.0 0.0 10.0); 
    axis z; 
    res (1000 1000);  }
}


nuclearData {
  handles {
    mg { type baseMgNeutronDatabase; PN P1;} 
  }
  materials {

    water {
      temp 75675;
      composition {}
      xsFile ../XS_BW/water_P3.txt;
      }

    water1 {
      temp 75675;
      composition {}
      xsFile ../XS_BW/water1_P3.txt;
      }

     alClad {
       temp 9876;
       composition {}
       xsFile ../XS_BW/alClad_P3.txt;
    }

    fuel {
      temp 87476;
      composition {}
      xsFile ../XS_BW/fuel_P3.txt;
    }

    fuel1 {
      temp 87476;
      composition {}
      xsFile ../XS_BW/fuel1_P3.txt;
    }


   }
}
